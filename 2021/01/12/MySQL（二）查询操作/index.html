<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>MySQL（二）查询操作 | JOEL-T99</title><meta name="keywords" content="MySQL"><meta name="author" content="JOEL-T99"><meta name="copyright" content="JOEL-T99"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="单表查询 基本格式  select  [ all | distinct ]  selection_list  from table_score  [where search_condition] [group by grouping_colums] [with rollup] [having search_condition] [order by order_expression [asc \ d">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL（二）查询操作">
<meta property="og:url" content="http://yoursite.com/2021/01/12/MySQL%EF%BC%88%E4%BA%8C%EF%BC%89%E6%9F%A5%E8%AF%A2%E6%93%8D%E4%BD%9C/index.html">
<meta property="og:site_name" content="JOEL-T99">
<meta property="og:description" content="单表查询 基本格式  select  [ all | distinct ]  selection_list  from table_score  [where search_condition] [group by grouping_colums] [with rollup] [having search_condition] [order by order_expression [asc \ d">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JOEL-T99/Pic//img/MysqL3.png">
<meta property="article:published_time" content="2021-01-12T12:12:04.000Z">
<meta property="article:modified_time" content="2021-01-16T07:25:09.500Z">
<meta property="article:author" content="JOEL-T99">
<meta property="article:tag" content="MySQL">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/JOEL-T99/Pic//img/MysqL3.png"><link rel="shortcut icon" href="/img/fav.ico"><link rel="canonical" href="http://yoursite.com/2021/01/12/MySQL%EF%BC%88%E4%BA%8C%EF%BC%89%E6%9F%A5%E8%AF%A2%E6%93%8D%E4%BD%9C/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  ClickShowText: {"text":"富强,民主,文明,和谐,自由,平等,公正,法治,爱国,敬业,诚信,友善","fontSize":"15px"},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-01-16 15:25:09'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="JOEL-T99" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/background.jpg" onerror="onerror=null;src='/img/touxiang.png'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">33</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">6</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://cdn.jsdelivr.net/gh/JOEL-T99/Pic//img/MysqL3.png)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">JOEL-T99</a></span><span id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><h1 class="post-title">MySQL（二）查询操作</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2021-01-12T12:12:04.000Z" title="Created 2021-01-12 20:12:04">2021-01-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2021-01-16T07:25:09.500Z" title="Updated 2021-01-16 15:25:09">2021-01-16</time></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">Comments:</span><a href="/2021/01/12/MySQL%EF%BC%88%E4%BA%8C%EF%BC%89%E6%9F%A5%E8%AF%A2%E6%93%8D%E4%BD%9C/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2021/01/12/MySQL%EF%BC%88%E4%BA%8C%EF%BC%89%E6%9F%A5%E8%AF%A2%E6%93%8D%E4%BD%9C/" itemprop="commentCount"></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="单表查询"><a href="#单表查询" class="headerlink" title="单表查询"></a>单表查询</h1><ul>
<li>基本格式</li>
</ul>
<p><code>select  [ all | distinct ]  selection_list </code></p>
<p><code>from table_score </code></p>
<p><code>[where search_condition]</code></p>
<p><code>[group by grouping_colums] [with rollup]</code></p>
<p><code>[having search_condition]</code></p>
<p><code>[order by order_expression [asc \ desc]]</code>    –asc升    序、desc降序</p>
<p><code>[limit count]</code>    –限制查询的输出结果行</p>
<p>&nbsp;</p>
<h3 id="SQL-select-expr"><a href="#SQL-select-expr" class="headerlink" title="SQL select_expr"></a>SQL select_expr</h3><ul>
<li><p><strong>为字段取别名</strong></p>
<p><code>select 项的名称 as 别名</code></p>
</li>
<li><p><strong>使用谓语过滤记录</strong></p>
<p>利用<code>distinct</code>可过滤重复的行</p>
<p><code>select distinct column</code></p>
</li>
</ul>
<p>&nbsp;</p>
<h3 id="SQL-where"><a href="#SQL-where" class="headerlink" title="SQL where"></a>SQL where</h3><p>通过 <code>where</code> 子句可以实现很多复杂的条件查询，需要配合运算符确定查询条件</p>
<p>语法：<code>SELECT 列名称 FROM 表名称 WHERE 列 运算符 值</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#查询表student中入学成绩在800分以上的学生的学号、姓名和电话信息。</span><br><span class="line">select studentno, sname, phone</span><br><span class="line">from student</span><br><span class="line">where entrance &gt; 800;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<ul>
<li><p><strong>带 in 关键字的查询</strong></p>
<p><code>in</code> 关键字可以判断某个字段的值是否在指定的集合中</p>
<p>使用 <code>in</code> 搜索条件相当于用 <code>or</code> 连接两个比较条件</p>
<p>如 <code>x in(10,15)</code> 相当于表达式 <code>x=10 or x=15</code></p>
<p>也可使用 <code>not in</code> 查询不在范围内的数据</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#查询学号分别为123、456和789的学生学号、课程号、平时成绩、期末成绩。</span><br><span class="line">select studentno, courseno, daily, final</span><br><span class="line">from score</span><br><span class="line">where studentno in (&#39;123&#39;,&#39;456&#39;,&#39;789&#39;);</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<ul>
<li><p><strong>带 between and 的范围查询</strong></p>
<p>使用 <code>between</code> 搜索条件相当于用 <code>and</code> 连接两个比较条件</p>
<p>如 <code>x between 10 and 27</code> 相当于表达式 <code>x&gt;=10 and x&lt;=27</code></p>
<p>检索条件指定排除某个范围的值，一般可以用  关键字来实现</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#查询选修课程号为c05109的学生学号和期末成绩，并且要求平时成绩在80～95分。</span><br><span class="line">select studentno, final</span><br><span class="line">from score</span><br><span class="line">where courseno&#x3D;&#39;c05109&#39;and daily between 80 and 95;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<ul>
<li><p><strong>带 like 的字符匹配查询</strong></p>
<p>like 可以用于实现模糊查询，包含两种通配符 <code>%</code> 和 <code>_</code></p>
<p><code>%</code> 可以匹配一个或多个字符，可以代表任意长度的字符串，长度可以为0</p>
<p><code>_</code> 只匹配一个字符</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#在student表中显示所有姓何或者姓韩的学生的姓名、生日和Email。</span><br><span class="line">select sname, birthdate, Email</span><br><span class="line">from student</span><br><span class="line">where sname like &#39;何%&#39; or sname like &#39;韩%&#39;;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<ul>
<li><p><strong>用 is null 关键字查询空值</strong></p>
<p>一个字段值是空值或者不是空值，要么表示为 <code>is null</code> 或 <code>is not null</code> ；不能表示为 <code>=null</code> 或 <code>&lt;&gt;null</code></p>
<p>如果写成 <code>字段=null</code> 或 <code>字段&lt;&gt;null</code> ，系统的运行结果都直接处理为 <code>null</code> 值，按照 <code>false</code> 处理而不报错</p>
<p>通用格式 <code>column is [not] null</code></p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#在se_score表中添加成绩字段score,查询se_score表中学生的学号、课程号和成绩。</span><br><span class="line">alter table se_coruse</span><br><span class="line">add score float(3,1) null after teacherno;</span><br><span class="line"></span><br><span class="line">select studentno, courseno, teacherno, score</span><br><span class="line">from se_course</span><br><span class="line">where score is null;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<ul>
<li><p><strong>带 and 的多条件查询</strong></p>
<p>利用指定的条件选择结果集中的行</p>
<p><u>条件表达式中字符型和日期类型值要放到单引号中</u></p>
<p><u>并列的条件不能出现逗号</u></p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#在score表中显示期中成绩高于90分，期末成绩高于85分的学生学号、课程号和成绩。</span><br><span class="line">select studentno, courseno, daily, final</span><br><span class="line">from score</span><br><span class="line">where daily&gt;&#x3D;90 and final&gt;&#x3D;85;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<ul>
<li><p><strong>带 or 的多条件查询</strong></p>
<p><code>or</code> 可以用来连接两个条件表达式</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#查询计算机学院的具有高级职称教师的教师号、学生和从事的专业。</span><br><span class="line">select teacherno, tname, major</span><br><span class="line">from teacher</span><br><span class="line">where department&#x3D;&#39;计算机学院&#39; and (prof&#x3D;&#39;副教授&#39; or prof&#x3D;&#39;教授&#39;);</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<div class="note info simple"><p>如果第一个条件和第二个条件都成立，则 AND 运算符显示一条记录。</p>
<p>如果第一个条件和第二个条件中只要有一个成立，则 OR 运算符显示一条记录。</p>
</div>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#子查询返回一个值，标量子查询</span><br><span class="line">#不需要给子查询取别名</span><br><span class="line"></span><br><span class="line">#where子查询内的表，不能直接用以更新</span><br><span class="line">select * from tb where money &#x3D; (select max(money) from tb);</span><br><span class="line"></span><br><span class="line">#列子查询</span><br><span class="line">	#如果子查询结果返回的是一列</span><br><span class="line">	#使用 in 或 not in 完成查询</span><br><span class="line">	</span><br><span class="line">	#如果子查询返回数据，则返回1或0，常用于判断</span><br><span class="line">	select column from t1 where exists (select * from t2);</span><br><span class="line"></span><br><span class="line">#行子查询</span><br><span class="line">	#查询条件是一个行</span><br><span class="line">	select * from t1 where (id,gender) in (select id, gender from t2);</span><br><span class="line">	#行构造符</span><br><span class="line">	#行构造符通常用于对能返回两个或两个以上列的子查询进行比较</span><br><span class="line">	（col1, col2, ...）或 row (col1, col2, ...)</span><br></pre></td></tr></table></figure>

<p>&nbsp;&nbsp;</p>
<ul>
<li><p>特殊运算符</p>
<p><code>! = all</code>  相当于  <code>not in</code></p>
<p><code>= some()</code>  相当于 <code>in</code> 。 <code>any</code> 是 <code>some</code>的别名</p>
<p> <code>= some()</code> 不等同于 <code>not in</code> ，不等于其中某一个</p>
<p><code>all</code> 、<code>some</code> 可以配合其他运算符一起使用</p>
</li>
</ul>
<p>&nbsp;</p>
<h3 id="SQL-group-by-amp-having"><a href="#SQL-group-by-amp-having" class="headerlink" title="SQL group by &amp; having"></a>SQL group by &amp; having</h3><p><code>group by</code> 子句可以将查询结果按属性列或属性列组合在行的上方进行分组，每组在属性列或属性列组合上具有相同的聚合值。</p>
<p>将一列或多列定义成为一组，是组内所有的行在那些列中的数值相同。出现查询的 <code>select</code> 列表中的每一列都必须同时出现在 <code>group by</code> 子句中</p>
<p>&nbsp;</p>
<ul>
<li><p><strong>使用 group by 关键词来分组</strong></p>
<p>单独使用 <code>group by</code> 关键词，查询结果只显示每组的一条记录。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#利用 group by 子句对 score 表的数据分组，显示每个学生的学号和平均总评成绩。</span><br><span class="line">#avg函数用于求平均值，round函数用于对平均值的某位数据进行四舍五入。</span><br><span class="line">select student 学号, round(avg(daily*0.3 + final*0.7),2)as&#39;平均分&#39;</span><br><span class="line">from score</span><br><span class="line">group by studentno;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<ul>
<li><p><strong>group by 关键字与 group_concat() 函数一起使用</strong></p>
<p>可以将每个组中的所有字段都显示出来。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#对 score 表中的 studentno 字段进行分组查询，可以查看选该门课程的学生学号。</span><br><span class="line">select courseno 课程号, group_concat(studentno) 选课学生学号</span><br><span class="line">from score</span><br><span class="line">group by courseno;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<ul>
<li><p><strong>group by 关键字与 having 一起使用</strong></p>
<p><code>having</code> 子句通常与 <code>group by</code> 子句结合使用，<code>having</code> 子句指定在应用 <code>where</code> 子句的筛选后要进一步应用的筛选。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#查询选课在3门以上且各门课程期末成绩均高于75分的学生的学号及其总成绩，查询结果按总成绩降序列出。</span><br><span class="line">select studentno 学号, sum(daily*0.3 + final*0.7) as &#39;总分&#39;</span><br><span class="line">from score</span><br><span class="line">where final&gt;&#x3D;75</span><br><span class="line">group by studentno</span><br><span class="line">having count(*)&gt;&#x3D;3</span><br><span class="line">order by sum(daily*0.3 + final*0.7) desc;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<h3 id="SQL-order-by"><a href="#SQL-order-by" class="headerlink" title="SQL order by"></a>SQL order by</h3><p>使用 order by 子句可以对查询的结果进行升序（asc）或降序（desc）排列。</p>
<p>事项和原则：</p>
<ol>
<li>默认情况下，结果集按照升序排列</li>
<li>order by 子句包含的列并不一定出现在选择的列表中</li>
<li>order by 子句可以通过制定列名、函数值和表达式的值进行排序</li>
<li>order by 子句不可以使用text、ntext或image类型的列</li>
<li>在order by 子句中可以同时出现多个排序项</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#在student表中查询高于850分的学生学号、姓名和入学成绩，并按照入学成的降序排列。</span><br><span class="line">select studentno 学号, sname 姓名, entrance 入学成绩</span><br><span class="line">from student</span><br><span class="line">where entrance &gt; 850</span><br><span class="line">order by entrance desc;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<h3 id="SQL-limit"><a href="#SQL-limit" class="headerlink" title="SQL limit"></a>SQL limit</h3><p><code>limit</code> 是用来限制查询结果的数量的子句。可以指定查询结果从哪条记录开始显示，还可以指定一共显示多少条记录。<code>limit</code> 可以指定初始位置。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#查询score表中，期末成绩final高于85分的，按照平时成绩daily进行升序排列，从编号2开始，查询5条记录。</span><br><span class="line">select * from score</span><br><span class="line">where final&gt;85</span><br><span class="line">order by daily desc</span><br><span class="line">limit 2,5;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="聚合函数查询"><a href="#聚合函数查询" class="headerlink" title="聚合函数查询"></a>聚合函数查询</h1><p>MySQL常用的聚合函数包括 <code>count()、sum()、avg()、max()、min()</code> 等</p>
<p><code>count()</code> 用来统计数据的条数</p>
<p><code>sum()</code> 用来计算字段的值的总和</p>
<p><code>avg()</code> 用来计算字段的值的平均值</p>
<p><code>max()</code> 用来查询字段的最大值</p>
<p><code>min()</code> 用来查询字段的最小值</p>
<p>&nbsp;</p>
<h3 id="SQL-count"><a href="#SQL-count" class="headerlink" title="SQL count()"></a>SQL count()</h3><p><code>count()</code> 函数对于“*”以外的任何参数，返回所选择聚合中非null值的行的数目</p>
<p>对于参数“*”，返回选择聚合所有行的数目，包含null值的行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#通过查询求18级学生的总数。</span><br><span class="line">select count(studentno) as &#39;18级学生数&#39;</span><br><span class="line">from student</span><br><span class="line">where substring(studentno,1,2)&#x3D;&#39;18&#39;;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<h3 id="SQL-sum-ayg"><a href="#SQL-sum-ayg" class="headerlink" title="SQL sum() / ayg()"></a>SQL sum() / ayg()</h3><p><code>sum()</code> 函数可以求出表中某个字段取值的总和</p>
<p><code>avg()</code> 函数可以求出表中某个字段去值的平均值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#查询score表中学生的期末总成绩大于270分的学生学号、总成绩及平均成绩。</span><br><span class="line">select studentno 学号, sum(final) 总分, avg(final) 平均分</span><br><span class="line">from score</span><br><span class="line">group by studentno</span><br><span class="line">having sum(final) &gt; 270</span><br><span class="line">order by studentno;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<h3 id="SQL-max-min"><a href="#SQL-max-min" class="headerlink" title="SQL max() / min()"></a>SQL max() / min()</h3><p><code>max()</code> 函数可以求出表中某个字段取值的最大值</p>
<p><code>min()</code> 函数可以求出表中某个字段取值的最小值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#查询选修课程号为c05109的课程的期末最高分、最低分及之间相差的分数。</span><br><span class="line">select max(final) 最高分, min(final)最低分 , max(final)-min(final) as 分数</span><br><span class="line">from score</span><br><span class="line">where course&#x3D;&#39;c05109&#39;;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<h3 id="SQL-with-rollup"><a href="#SQL-with-rollup" class="headerlink" title="SQL with rollup"></a>SQL with rollup</h3><p>可以在分组统计数据的基础上在进行相同的总日统计</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#查询score表中每一门课的期末平均成绩和所成绩的平均值。</span><br><span class="line">select course 课程号, avy(final) 课程期末平均分</span><br><span class="line">from score</span><br><span class="line">group by courseno with rollup;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="多表连接"><a href="#多表连接" class="headerlink" title="多表连接"></a>多表连接</h1><p>被显示定义的与连接有关的关键字如下：</p>
<ol>
<li><code>inner join</code>：内连接，结果只包含满足条件的列</li>
<li><code>left outer join</code>：左外连接，结果只包含满足条件的行及左侧表中的全部行</li>
<li><code>right outer join</code>：右外连接，结果只包含满足条件的行及右侧表中的全部行</li>
<li><code>cross join</code>：结果只包含两个表中的所有行的组合，指明两表间的笛卡尔积操作</li>
</ol>
<p>&nbsp;</p>
<h3 id="内连接"><a href="#内连接" class="headerlink" title="内连接"></a>内连接</h3><p>内连接查询是通过比较数据源表间共享列的值，从多个源表检索符合条件的行的操作。可以使用等号运算符的连接，也可以连接两个不相等的列的值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#查询选修课程号为c05109的学生的学号、姓名和期末成绩。</span><br><span class="line">select student.studentno, sname, final</span><br><span class="line">from student inner join score</span><br><span class="line">on student.studentno &#x3D; score.studentno</span><br><span class="line">where score.courseno &#x3D; &#39;c05109&#39;</span><br><span class="line"></span><br><span class="line">#方法二：</span><br><span class="line">select student.studentno, sname, final</span><br><span class="line">from student, score</span><br><span class="line">where student.studentno&#x3D;score.studentno and score.course &#x3D; &#39;c05109&#39;;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<h3 id="左外连接"><a href="#左外连接" class="headerlink" title="左外连接"></a>左外连接</h3><p>左外连接是指将左表中的数据分别与右表中的每条数据进行连接和结合，返回的结果除内连接的数据外，还包括左表中不符合条件的数据，并在右表的相应列中添加 <code>null</code> 值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#在mysqltest数据库中利用左外连接方式查询学生的学号、姓名、平时成绩和期末成绩。</span><br><span class="line">use mysqltest</span><br><span class="line">select student.studentno, sname, daily, final</span><br><span class="line">from student left join score</span><br><span class="line">on student.studentno &#x3D; score.studentno;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<h3 id="右外连接"><a href="#右外连接" class="headerlink" title="右外连接"></a>右外连接</h3><p>右外连接包含 <code>join</code> 子句中最右侧表的所有行。如果右侧表中的行与左侧表中的行不匹配，将为结果集中来自左侧表的所有列分配 <code>null</code> 值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#利用右外连接方式查询教师的排课情况。</span><br><span class="line">select teacher.teacherno, tname, major, course</span><br><span class="line">from teacher right join teach_course</span><br><span class="line">on teacher.teacherno&#x3D;teacher_course.teacherno;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<h3 id="交叉连接"><a href="#交叉连接" class="headerlink" title="交叉连接"></a>交叉连接</h3><p>交叉连接是在没有 <code>where</code> 子句的情况下，产生的表的笛卡尔积。两个表作交叉连接时，结果集大小为二者行数之积。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#显示student表和score表的笛卡尔积。</span><br><span class="line">select student.student, sname, score</span><br><span class="line">from student corss join score;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<h3 id="连接多个表"><a href="#连接多个表" class="headerlink" title="连接多个表"></a>连接多个表</h3><p>对于三个以上关系表的连接查询，一般遵循下列规则：</p>
<p><u>连接n个表至少需要n-1个连接条件，比避免笛卡尔积的出现</u></p>
<p><u>为了缩小结果集，采用多余n-1个连接条件或使用其他条件都是允许的</u></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#查询18级学生的学号、姓名、课程号、期末成绩及学分。</span><br><span class="line">select student.studentno, sname, cname, final, round(period&#x2F;16,1)</span><br><span class="line">from score join student on student.studentno&#x3D;score.studentno</span><br><span class="line">	join course on score.course&#x3D;course.courseno</span><br><span class="line">where substring(student.studentno,1,2)&#x3D;&#39;18&#39;;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<h3 id="合并多个结果集"><a href="#合并多个结果集" class="headerlink" title="合并多个结果集"></a>合并多个结果集</h3><p><code>union</code> 操作可以将多个 <code>select</code> 语句的返回结果组合到一个结果集中。</p>
<p>使用 <code>union</code> 合并两个查询结果集时，所有查询中的列数和列的顺序必须相同且数据类型必须兼容。</p>
<p>语法格式如下：</p>
<p><code>select_statement union [all] select_statement</code></p>
<p>格式参考说明：</p>
<ol>
<li>select_statement：select 语句</li>
<li>union：指定组合多个结果集并返回为单个结果集</li>
<li>all：将所有行合并到结果中，包括重复的行。如果不指定，将删除重复的行</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#在mysqltest数据库中利用student表创建student01，将student01和student表的部分查询结果集合并。</span><br><span class="line">create table student01 as</span><br><span class="line">select studentno, sname, phone from teaching.student;</span><br><span class="line"></span><br><span class="line">select studentno, sname, phone from student01</span><br><span class="line">where phone like &#39;%131%&#39;</span><br><span class="line">union</span><br><span class="line">select studentno, sname, phone from teaching.studnet</span><br><span class="line">where phone like &#39;%132%&#39;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<h3 id="连接查询"><a href="#连接查询" class="headerlink" title="连接查询"></a>连接查询</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#将多个表的字段进行连接，可以指定连接条件</span><br><span class="line"></span><br><span class="line">#内连接 （inner join）</span><br><span class="line">	#默认就是内连接，可省略inner</span><br><span class="line">	#只有数据存在时才能发送连接，即连接结果不能出现空行</span><br><span class="line">	#on 表示连接条件，其表达式于where类似，也可以省略条件（表示条件永远为真）</span><br><span class="line">	#也可使用where表示连接条件</span><br><span class="line">	#如果使用 using ，需字段名相同  </span><br><span class="line">	using (&#96;字段名&#96;);</span><br><span class="line">	</span><br><span class="line">	#交叉连接 （cross join）</span><br><span class="line">	#没有条件的连接</span><br><span class="line">	select * from tb1 cross join tb2;</span><br><span class="line">	</span><br><span class="line">#外连接 （outer join）</span><br><span class="line">	#如果数据不存在，也会出现在连接结果中</span><br><span class="line">	</span><br><span class="line">	#左外连接 （left join）</span><br><span class="line">	#如果数据不存在，左表记录会出现，而右表为null填充</span><br><span class="line">	</span><br><span class="line">	#右外连接 （right join）</span><br><span class="line">	#如果数据不存在，右表记录会出现，而左表为null填充</span><br><span class="line">	</span><br><span class="line">#自然连接 （natural join）</span><br><span class="line">	#自动判断连接条件完成连接</span><br><span class="line">	#相当于省略了using，会自动查找相同字段</span><br><span class="line">	natural join;</span><br><span class="line">	natural left join;</span><br><span class="line">	natural right join;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h1><ol>
<li><p>子查询的执行过程</p>
<p>MySQL对嵌套查询的处理过程是从内层向外层处理，即先处理最内层的子查询,然后把查询的结果用于其外查询的查询条件，再层层向外求解,最后得出查询结果。</p>
</li>
<li><p>子查询连接的关系</p>
<p>一般情况下，包含子查询的查询语句可以写成连接查询的方式。因此，通过子查询也可以实现多表之间的查询。在有些方面，多表连接的性能要优于子查询，原因是连接不需要查询优化器执行排序等额外的操作。</p>
</li>
<li><p>子查询中的常见运</p>
<p>子查询中可以包括 <code>in</code>、<code>not in</code>、<code>any</code>、<code>all exists</code>、<code>not exists</code> 等逻辑运算符，也可以包含比较运算符，如 <code>“=”</code> <code>“!=”</code> <code>“&gt;”</code> 和 <code>“&lt;”</code> 等。</p>
</li>
<li><p>子查询的类型：</p>
<p>● 返回一个表的子查询是表子查询。<br>● 返回带有一个或多个值的一行的子查询是行子查询。<br>● 返回一行或多行，但每行上只有一个值的是列子查询。<br>● 只返回一个值的是标量子查询。从定义上讲,每个标量子查询都是一个列子查询和行子查询。</p>
</li>
<li><p>使用子查询时应该注意如下的事项：</p>
<p>● 子查询需要用括号括起来。子查询中也可以再包含子查询，嵌套可以多至32层。</p>
<p>● 当需要返回一个值或一个值列表时,可以利用子查询代替一个表达式。也可以利用子查询返回含有多个列的结果集替代表或连接操作相同的功能。<br>● 子查询不能够检索数据类型为 <code>varchar ( max)</code>、<code>nvarchar( max)</code> 和 <code>varbinary( max)</code> 的列。<br>● 子查询使用 <code>order by</code> 时，只能在外层使用，不能在内层使用。</p>
</li>
</ol>
<p>&nbsp;</p>
<h3 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h3><p>在MySQL语句中，可以把子查询的结果当成一个普通的表达式来看待，<u>用在其外查询的选择条件中</u>。此时子查询必须返回一个值或一个单个列值列表，此时的子查询可以替换 <code>where</code> 子句中包含 <code>in</code> 关键词的表达式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#查询学号为18125121107的学生的入学成绩、所有学生的平均入学成绩及该学生成绩与所有学生的平均入学成绩的差。</span><br><span class="line">select studentno, sname, entrance</span><br><span class="line">(select avg(ectrance) from student) 平均成绩,</span><br><span class="line">ectrance - (select avg(ectrance) from student) 分差</span><br><span class="line">from student</span><br><span class="line">where studentno&#x3D;&#39;18125121107&#39;;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<h3 id="派生表"><a href="#派生表" class="headerlink" title="派生表"></a>派生表</h3><p>利用子查询生成一个派生表，用于替代 <code>from</code> 子句中的数据源表，派生表可以定义一个别名，即子查询的结果集可以作为外层查询的源表。实际上是在 <code>from</code> 子句中使用子查询作为派生表数据源。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#查询期末成绩高于85分、总评成绩高于90分的学生的学号、课程号和成绩</span><br><span class="line">select TT.student 学号, TT.courseno 课程号, TT.final*0.8+TT.daily*0.2 总评</span><br><span class="line">from (select * from score where final&gt;85) as TT</span><br><span class="line">where TT.final*0.8+TT.daily*0.2 &gt; 90;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<h3 id="where-子查询"><a href="#where-子查询" class="headerlink" title="where 子查询"></a>where 子查询</h3><p><code>where</code> 语句中的子查询实际上是将子查询的结果作为该语句条件中的一部分，然后利用这个条件过滤本层查询的数据。</p>
<p>&nbsp;</p>
<ul>
<li><p>比较运算符</p>
<p>比较运算符包括 <code>=、!=、&gt;、&gt;=、&lt;、&lt;=</code></p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#查询期末成绩比选修课程平均期末成绩低的学生的学号、课程号和期末成绩</span><br><span class="line">select studentno, course, final</span><br><span class="line">from score a</span><br><span class="line">where final &lt;(select avg(final)</span><br><span class="line">             from score b</span><br><span class="line">             where a.courseno&#x3D;b.courseno</span><br><span class="line">             group by courseno);</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<ul>
<li><p>in / not in</p>
<p><code>in</code> 运算符可以检测结果集中是否存在某个特定的值，如果检测成功就执行外部的查询。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#获取期末成绩中含有高于93分的学生的学号、姓名、电话和Emial</span><br><span class="line">select studentno, sname, phone, Emial</span><br><span class="line">from student</span><br><span class="line">where studentno in (select studentno</span><br><span class="line">                   from score</span><br><span class="line">                   where final&gt;93);</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<ul>
<li><p>exists / not exists</p>
<p>使用 <code>exists</code> 关键字时，内层查询语句不返回查询的记录，而是返回一个真假值。</p>
<p>当返回值为 <code>true</code> 时，外层查询语句将进行查询；当返回 <code>false</code> 时，外层查询语句不进行查询或查询不出任何记录。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#查询student表中是否存在2001年12月12日以后出生的学生，如果存在，输出学生的学号、姓名、生日和电话</span><br><span class="line">select studentno, sname, birthdate, phone</span><br><span class="line">from student</span><br><span class="line">where exists (select *</span><br><span class="line">             from student</span><br><span class="line">             where birthdate&lt;&#39;2001-12-12&#39;);</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<ul>
<li><p>对比较算法进行限制</p>
<p><code>all</code>、<code>some</code>和<code>any</code>运算都是比较运算的进一步限制。使用 <code>all</code> 时，当所有值都满足比较的关系时才返回 <code>true</code>。<code>some</code> 或 <code>any</code> 时同义词，表示表达式只要与子查询结果集中的某个值满足比较的关系时就返回 <code>true</code></p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#查找score表中所有比c05109课程期末成绩都高的学号、姓名、电话和期末成绩</span><br><span class="line">select student.studentno, sname, phone, final</span><br><span class="line">from score inner join student</span><br><span class="line">on score.studentno &#x3D; student.studentno</span><br><span class="line">where final&gt;all (select final</span><br><span class="line">                from score</span><br><span class="line">                where course&#x3D;&#39;c05109&#39;);</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<h3 id="增、更、删"><a href="#增、更、删" class="headerlink" title="增、更、删"></a>增、更、删</h3><p>利用子查询修改数据，就是利用一个嵌套在<code>insert</code>、<code>update</code>或 <code>delete</code> 语句的子查询成批地增加、更新和删除表中的数据。</p>
<ul>
<li><p>插入</p>
<p><code>insert</code> 语句中的 <code>select</code> 子句可用于讲一个或多个其他的表或视图的值添加到表中。使用 <code>select</code> 子查询可同时插入多行。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#将student表中2001年以后出生的学生记录添加到student02表中。</span><br><span class="line">insert into mysqltest.student02 (select * from student</span><br><span class="line">                                where birthdaye &gt;&#x3D; &#39;2001-12-31&#39;);</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<ul>
<li><p>更新</p>
<p><code>update</code> 语句中的 <code>select</code> 子查询可用于将一个或多个其他的表或视图的值进行更新。使用 <code>select</code> 子查询可同时更新多行数据。实际上是通过将子查询的结果作为更新条件表达式中的一部分。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#将student表中入学成绩低于800分的所有学生的期末成绩增加5%</span><br><span class="line">update score</span><br><span class="line">set final&#x3D;final*1.5</span><br><span class="line">where studentno in (select studentno from student</span><br><span class="line">                   where entrance &lt; 800);</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<h3 id="模糊查询"><a href="#模糊查询" class="headerlink" title="模糊查询"></a>模糊查询</h3><ul>
<li><p>字符 / 字符串开头</p>
<p>使用字符<code>“^”</code>可以匹配以特定字符或字符串开头的记录。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#查询student表中姓“赵”的学生的部分信息</span><br><span class="line">select studentno, sname</span><br><span class="line">from student</span><br><span class="line">where sname regexp &#39;^赵&#39;;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<ul>
<li><p>字符 / 字符串结尾</p>
<p>使用字符<code>“$”</code>可以匹配以特定字符或字符串结尾的记录。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#查询student表中学生电话号码尾数为5的学生的部分信息</span><br><span class="line">select studentno, sname, phone</span><br><span class="line">from student</span><br><span class="line">where phone regexp &#39;5$&#39;;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<ul>
<li><p>符号“.”</p>
<p>用正则表达式来查询时，可以使用<code>“.”</code>来替代字符串中的任意一个字符。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#查询student表中学生姓名以“赵”开头，以“江”结尾的学生的部分信息</span><br><span class="line">select studentno, sname</span><br><span class="line">from student</span><br><span class="line">where phone regexp &#39;^赵..江$&#39;;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<ul>
<li><p>匹配指定字符串</p>
<p>正则表达式可以匹配字符串。如果指定多个字符串，需要用符号<code>“|”</code>隔开，只要匹配这些字符中的任意一个即可。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 示例 ##################################################################</span><br><span class="line">#查询学生电话号码出现131或132数字的学生信息</span><br><span class="line">select studentno, sname</span><br><span class="line">from student</span><br><span class="line">where phont regexp &#39;131 | 132&#39;;</span><br></pre></td></tr></table></figure>

<p>&nbsp;</p>
<hr>
<div align="center">❤️&nbspEND&nbsp❤️</div>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/MySQL/">MySQL</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/JOEL-T99/Pic//img/MysqL3.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> Donate<div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="支付寶"/></a><div class="post-qr-code-desc">支付寶</div></li></ul></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/01/17/JAVA%EF%BC%88%E4%B8%80%EF%BC%89%E6%95%B0%E7%BB%84/"><img class="prev-cover" src="https://cdn.jsdelivr.net/gh/JOEL-T99/Pic//img/Java.png" onerror="onerror=null;src='https://cdn.jsdelivr.net/gh/JOEL-T99/Pic//img/science.png'"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">JAVA（一）数组</div></div></a></div><div class="next-post pull-right"><a href="/2021/01/11/MySQL%EF%BC%88%E4%B8%80%EF%BC%89%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/"><img class="next-cover" src="https://cdn.jsdelivr.net/gh/JOEL-T99/Pic//img/MysqL3.png" onerror="onerror=null;src='https://cdn.jsdelivr.net/gh/JOEL-T99/Pic//img/science.png'"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">MySQL（一）基础命令</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2021/01/11/MySQL（一）基础命令/" title="MySQL（一）基础命令"><img class="cover" src="https://cdn.jsdelivr.net/gh/JOEL-T99/Pic//img/MysqL3.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-11</div><div class="title">MySQL（一）基础命令</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/background.jpg" onerror="this.onerror=null;this.src='/img/touxiang.png'" alt="avatar"/><div class="author-info__name">JOEL-T99</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">33</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">6</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/JOEL-T99"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/JOEL-T99" target="_blank" title="Github"><i class="fa fa-github"></i></a></div></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>Announcement</span></div><div class="announcement_content">感谢访问本站，若喜欢请收藏 ^_^</div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="card-content"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%95%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.</span> <span class="toc-text">单表查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-select-expr"><span class="toc-number">1.0.1.</span> <span class="toc-text">SQL select_expr</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-where"><span class="toc-number">1.0.2.</span> <span class="toc-text">SQL where</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-group-by-amp-having"><span class="toc-number">1.0.3.</span> <span class="toc-text">SQL group by &amp; having</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-order-by"><span class="toc-number">1.0.4.</span> <span class="toc-text">SQL order by</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-limit"><span class="toc-number">1.0.5.</span> <span class="toc-text">SQL limit</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.</span> <span class="toc-text">聚合函数查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-count"><span class="toc-number">2.0.1.</span> <span class="toc-text">SQL count()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-sum-ayg"><span class="toc-number">2.0.2.</span> <span class="toc-text">SQL sum() &#x2F; ayg()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-max-min"><span class="toc-number">2.0.3.</span> <span class="toc-text">SQL max() &#x2F; min()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-with-rollup"><span class="toc-number">2.0.4.</span> <span class="toc-text">SQL with rollup</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.</span> <span class="toc-text">多表连接</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.0.1.</span> <span class="toc-text">内连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A6%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.0.2.</span> <span class="toc-text">左外连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%B3%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.0.3.</span> <span class="toc-text">右外连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%A4%E5%8F%89%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.0.4.</span> <span class="toc-text">交叉连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E5%A4%9A%E4%B8%AA%E8%A1%A8"><span class="toc-number">3.0.5.</span> <span class="toc-text">连接多个表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E5%A4%9A%E4%B8%AA%E7%BB%93%E6%9E%9C%E9%9B%86"><span class="toc-number">3.0.6.</span> <span class="toc-text">合并多个结果集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.0.7.</span> <span class="toc-text">连接查询</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">4.</span> <span class="toc-text">子查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">4.0.1.</span> <span class="toc-text">表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B4%BE%E7%94%9F%E8%A1%A8"><span class="toc-number">4.0.2.</span> <span class="toc-text">派生表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#where-%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">4.0.3.</span> <span class="toc-text">where 子查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A2%9E%E3%80%81%E6%9B%B4%E3%80%81%E5%88%A0"><span class="toc-number">4.0.4.</span> <span class="toc-text">增、更、删</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2"><span class="toc-number">4.0.5.</span> <span class="toc-text">模糊查询</span></a></li></ol></li></ol></li></ol></div></div></div><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/01/31/JAVA%EF%BC%88%E5%8D%81%E5%85%AD%EF%BC%89%E5%A4%9A%E7%BA%BF%E7%A8%8B/" title="JAVA（十六）多线程"><img src="https://cdn.jsdelivr.net/gh/JOEL-T99/Pic//img/Java.png" onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/gh/JOEL-T99/Pic//img/science.png'" alt="JAVA（十六）多线程"/></a><div class="content"><a class="title" href="/2021/01/31/JAVA%EF%BC%88%E5%8D%81%E5%85%AD%EF%BC%89%E5%A4%9A%E7%BA%BF%E7%A8%8B/" title="JAVA（十六）多线程">JAVA（十六）多线程</a><time datetime="2021-01-31T11:55:47.000Z" title="Created 2021-01-31 19:55:47">2021-01-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/01/31/JAVA%EF%BC%88%E5%8D%81%E4%BA%94%EF%BC%89%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/" title="JAVA（十五）异常处理"><img src="https://cdn.jsdelivr.net/gh/JOEL-T99/Pic//img/Java.png" onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/gh/JOEL-T99/Pic//img/science.png'" alt="JAVA（十五）异常处理"/></a><div class="content"><a class="title" href="/2021/01/31/JAVA%EF%BC%88%E5%8D%81%E4%BA%94%EF%BC%89%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/" title="JAVA（十五）异常处理">JAVA（十五）异常处理</a><time datetime="2021-01-31T09:31:25.000Z" title="Created 2021-01-31 17:31:25">2021-01-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/01/27/JAVA%EF%BC%88%E5%8D%81%E5%9B%9B%EF%BC%89IO%E6%93%8D%E4%BD%9C/" title="JAVA（十四）IO操作"><img src="https://cdn.jsdelivr.net/gh/JOEL-T99/Pic//img/Java.png" onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/gh/JOEL-T99/Pic//img/science.png'" alt="JAVA（十四）IO操作"/></a><div class="content"><a class="title" href="/2021/01/27/JAVA%EF%BC%88%E5%8D%81%E5%9B%9B%EF%BC%89IO%E6%93%8D%E4%BD%9C/" title="JAVA（十四）IO操作">JAVA（十四）IO操作</a><time datetime="2021-01-27T11:46:22.000Z" title="Created 2021-01-27 19:46:22">2021-01-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/01/27/JAVA%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C-File/" title="JAVA（十三）文件操作-File"><img src="https://cdn.jsdelivr.net/gh/JOEL-T99/Pic//img/Java.png" onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/gh/JOEL-T99/Pic//img/science.png'" alt="JAVA（十三）文件操作-File"/></a><div class="content"><a class="title" href="/2021/01/27/JAVA%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C-File/" title="JAVA（十三）文件操作-File">JAVA（十三）文件操作-File</a><time datetime="2021-01-27T03:41:25.000Z" title="Created 2021-01-27 11:41:25">2021-01-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/01/25/Java%EF%BC%88%E5%8D%81%E4%BA%8C%EF%BC%89%E9%9B%86%E5%90%88/" title="Java（十二）集合"><img src="https://cdn.jsdelivr.net/gh/JOEL-T99/Pic//img/Java.png" onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/gh/JOEL-T99/Pic//img/science.png'" alt="Java（十二）集合"/></a><div class="content"><a class="title" href="/2021/01/25/Java%EF%BC%88%E5%8D%81%E4%BA%8C%EF%BC%89%E9%9B%86%E5%90%88/" title="Java（十二）集合">Java（十二）集合</a><time datetime="2021-01-25T06:58:27.000Z" title="Created 2021-01-25 14:58:27">2021-01-25</time></div></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/index.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By JOEL-T99</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="http://joel-t99.online/">Blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    let initData = {
      el: '#vcomment',
      appId: '',
      appKey: '',
      placeholder: 'Please leave your footprints',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'zh-CN',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: false,
      path: window.location.pathname,
    }

    if (true) { 
      initData.requiredFields= ('nick,mail'.split(','))
    }
    
    if (false) {
      const otherData = false
      initData = Object.assign({}, initData, otherData)
    }
    
    const valine = new Valine(initData)
  }

  if (typeof Valine === 'function') initValine() 
  else $.getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js', initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.querySelector('#vcomment'),loadValine)
  else setTimeout(() => loadValine(), 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" async="async" mobile="false"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script></div></body></html>